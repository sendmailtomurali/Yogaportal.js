doctype html
html
  head
    title Add Attendance
    script.
      function preventDuplicateSelection() {
        let selects = document.querySelectorAll("select");
        selects.forEach(select => {
          select.addEventListener("change", () => {
            let selectedValues = new Set();
            selects.forEach(s => {
              if (s.value) selectedValues.add(s.value);
            });

            selects.forEach(s => {
              for (let option of s.options) {
                if (option.value && selectedValues.has(option.value) && s.value !== option.value) {
                  option.disabled = true;
                } else {
                  option.disabled = false;
                }
              }
            });
          });
        });
      }
      window.onload = preventDuplicateSelection;
      
    style.
      body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f9;
        margin: 0;
        padding: 20px;
      }
      h1 {
        color: #333;
        text-align: center;
      }
      form {
        max-width: 600px;
        margin: 0 auto;
        padding: 20px;
        background-color: white;
        border: 1px solid #ccc;
        border-radius: 5px;
      }
      label {
        display: block;
        margin: 10px 0 5px;
      }
      input, select {
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
      }
      input[type="submit"] {
        background-color: #4CAF50;
        color: white;
        border: none;
        cursor: pointer;
      }
      input[type="submit"]:hover {
        background-color: #45a049;
      }
  body
    h1 Add Attendance
    form(action="/addAttendance" method="post")
      label(for="date") Date
      input(type="date" name="date" required)

      label(for="time") Time
      input(type="time" name="time" required)

      label(for="activity") Activity
      input(type="text" name="activity" required)

      each n in [1, 2, 3]
        label(for=`user${n}`) User #{n}
        select(name=`user${n}`)
          option(value="") Select a user
          each user in users
            option(value=user.name)= user.name

      input(type="submit" value="Add Attendance")

